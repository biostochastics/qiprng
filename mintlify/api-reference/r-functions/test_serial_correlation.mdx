---
title: 'test_serial_correlation'
description: 'Serial correlation test at multiple lags'
sidebarTitle: 'test_serial_correlation'
---

# Serial correlation test at multiple lags


 Tests for serial correlation (autocorrelation) in a random sequence at
 multiple lag values. This test detects dependencies between values
 separated by various distances in the sequence.


## Usage

```r

 test_serial_correlation(samples, max_lag = 50)

```

## Parameters

<ParamField body="samples" type="any">
  Numeric vector of random samples to test
</ParamField>
<ParamField body="max_lag" type="any">
  Maximum lag to test (default: 50)
</ParamField>

## Returns


 A list containing serial correlation test results:

 test_name Name of the test
 correlations Vector of correlation coefficients for each lag
 p_values Vector of p-values for each lag
 significant_lags Vector of lag indices with significant correlation
 num_significant Count of lags with significant correlation
 expected_significant Expected number of significant lags by chance
 passed Logical; TRUE if num_significant <= expected_significant
 interpretation Human-readable interpretation of results



## Details


 Serial correlation measures the relationship between values in a sequence
 and their lagged counterparts. For a truly random sequence, correlations
 at all lags should be near zero.

 For each lag k from 1 to max_lag, the test:

  Computes Pearson correlation between x 1:(n-k)  and x (k+1):n
  Tests if the correlation is significantly different from zero
  Records correlations and p-values


 The test passes if the proportion of significant correlations (p < 0.05)
 does not exceed 5%, which is the expected false positive rate.

 High serial correlation indicates:

  Predictable patterns in the sequence
  Poor randomness quality
  Potential issues with the PRNG algorithm



## Examples

```r


 # Test serial correlation in uniform random numbers
 samples <- runif(10000)
 result <- test_serial_correlation(samples)
 print(paste("Significant correlations found:", result$num_significant))

 # Test with more lags
 result <- test_serial_correlation(samples, max_lag = 100)

 # Plot correlation values
 plot(result$correlations,
   type = "h",
   main = "Serial Correlations by Lag",
   xlab = "Lag", ylab = "Correlation"
 )


```
